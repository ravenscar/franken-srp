Hey future me!

This codebase has been cleaned up somewhat, there are a few TODO to search for, and there are some outstanding problems:

1. testing
  - there is no nice way of testing this, I suggest making a bunch of variant idp with aws-cdk and then calling them with the library.
  - this means integration tests, which is gross but due to the lack of spec for the aws calls I see no way around it
  - apart from the converters, I am not sure what can be unit tested here because
    - window.fetch is polyfilled
    - window.crypto parts are polyfilled
    - there is not enough api spec from aws to spec the guards or operations
  
2. add metadata to explain what has gone on dureing auth
  - performed SRP password
  - performed MFA
  - performed autop device confirm, etc